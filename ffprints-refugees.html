<!DOCTYPE html>
<html>
  <head>
    <script type="text/javascript" src="static/libs/d3/d3.v2.js"></script>
    <script type="text/javascript" src="static/libs/jquery/jquery-1.7.1.min.js"></script> 
    <script type="text/javascript" src="static/libs/tipsy/jquery.tipsy.js"></script>
    <link href="static/libs/tipsy/tipsy.css" rel="stylesheet" type="text/css" />
    <link href="static/css/ffprints.css" rel="stylesheet" type="text/css" />
  </head>
  <body>
    <div id="dests"></div>
    <script type="text/javascript" src="static/js/ffprints-utils.js"></script>
    <script type="text/javascript" src="static/js/ffprints.js"></script>
    <script>

 

    d3.loadData()
      .json('map', 'static/data/world-countries.json')
      .csv('nodes', 'static/data/refugee-nodes.csv')
      .csv('flows', 'static/data/refugee-flows.csv')
      .onload(function(data) {
        d3.select("#dests")
          .datum(data)
        .call(
          ffprintsChart()
            .flowOriginAttr('Origin')
            .flowDestAttr('Dest')
            .nodeIdAttr('Code')
            .latLonAttrs('Lat', 'Lon')
            .flowMagnitudeAttrs({
              refugees: {
                attrs: [1975, 1976, 1977, 1978, 1979, 1980, 1981, 1982, 1983, 1984, 1985, 1986, 1987, 1988, 1989, 1990, 1991, 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009],
                explain: 'In #attr# there were #magnitude# refugees from #origin# in #dest#'
              }
            })
        );
      });


    </script>


  </body>
</html>